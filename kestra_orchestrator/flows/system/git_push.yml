id: git_push
namespace: system
tasks:
  - id: commit_and_push_main_flows
    type: io.kestra.plugin.git.PushFlows
    username: yoyedmundyoy
    password: "{{ secret('GITHUB_ACCESS_TOKEN') }}"
    url: https://github.com/yoyedmundyoy/zoomcamp-project
    branch: dev
    sourceNamespace: zoomcamp-project 
    targetNamespace: zoomcamp-project
    gitDirectory: kestra_orchestrator/flows/main
    commitMessage: "kestra pushflows"
    dryRun: false

  - id: commit_and_push_system_flows
    type: io.kestra.plugin.git.PushFlows
    username: yoyedmundyoy
    password: "{{ secret('GITHUB_ACCESS_TOKEN') }}"
    url: https://github.com/yoyedmundyoy/zoomcamp-project
    branch: dev
    sourceNamespace: system
    targetNamespace: system
    gitDirectory: kestra_orchestrator/flows/system
    commitMessage: "kestra pushflows"
    dryRun: false
  